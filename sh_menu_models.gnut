























struct RevTalkingInfo
{
	string rev1conv
	string rev2conv
	float rev2ConvoStartOffset = 0.0
}























































































































































































struct
{

		int  activePresentationType = ePresentationType.INACTIVE










































































































	array<void functionref()> mouseWheelDownCallbacks
	array<void functionref()> mouseWheelUpCallbacks

	array< RevTalkingInfo > revTalkingInfoArray
	array< RevTalkingInfo > playedRevTalkingInfoArray
	bool revTalkingInProgress
} file













































































const STICK_ROTATE_SPEED = 2.0 


const MOUSE_ROTATE_SPEED = 1.0 

global function ShMenuModels_UIInit

global function RunMenuClientFunction
global function UI_SetPresentationType
global function UI_GetPresentationType

global function UICodeCallback_MouseMovementCapture
global function OnMouseWheelDown
global function OnMouseWheelUp

global function ClientToUI_PROTO_UpdateClientWithLocalClientUID

global function TrackIsOverScrollBar








global function AddCallback_OnMouseWheelDown
global function AddCallback_OnMouseWheelUp
global function RemoveCallback_OnMouseWheelDown
global function RemoveCallback_OnMouseWheelUp
global function IsCallbackRegistered_OnMouseWheelDown
global function IsCallbackRegistered_OnMouseWheelUp




void function ShMenuModels_UIInit()
{
	RegisterButtonPressedCallback( MOUSE_WHEEL_DOWN, OnMouseWheelDown )
	RegisterButtonPressedCallback( MOUSE_WHEEL_UP, OnMouseWheelUp )
}

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































void function RunMenuClientFunction( string func, var arg1 = null, var arg2 = null, var arg3 = null )
{
	if ( !CanRunClientScript() )
		return

	if ( arg1 == null )
		RunClientScript( func, GetLocalClientPlayer() )
	else if ( arg2 == null )
		RunClientScript( func, GetLocalClientPlayer(), arg1 )
	else if ( arg3 == null )
		RunClientScript( func, GetLocalClientPlayer(), arg1, arg2 )
	else
		RunClientScript( func, GetLocalClientPlayer(), arg1, arg2, arg3 )
}

void function UI_SetPresentationType( int newPresentationType, bool interpolate = false )
{
	if ( !IsFullyConnected() )
		return

	RunClientScript( "SetPresentationType", GetLocalClientPlayer(), newPresentationType, interpolate )

	file.activePresentationType = newPresentationType

	if ( newPresentationType == ePresentationType.PLAY )
		RunClientScript( "UpdateMenuWithPartyMembers" )
}

int function UI_GetPresentationType()
{
	return file.activePresentationType
}

void function UICodeCallback_MouseMovementCapture( var capturePanel, int deltaX, int deltaY )
{
	float screenScaleXModifier = 1920.0 / GetScreenSize().width 
	float mouseXRotateDelta    = deltaX * screenScaleXModifier * MOUSE_ROTATE_SPEED
	

	float screenScaleYModifier = 1080.0 / GetScreenSize().height 
	float mouseYRotationDelta  = deltaY * screenScaleYModifier * MOUSE_ROTATE_SPEED

	RunMenuClientFunction( "UpdateMouseRotateDelta", mouseXRotateDelta, mouseYRotationDelta )
}

void function TrackIsOverScrollBar( var listPanel )
{
	EndSignal( uiGlobal.signalDummy, "TrackIsOverScrollBar" )

	var scrollPanel      = Hud_GetChild( listPanel, "ScrollPanel" )
	bool rotationEnabled = true

	while ( true )
	{
		var focus       = GetFocus()
		var focusParent = focus == null ? null : Hud_GetParent( focus )
		bool isOverList = focus == listPanel || focusParent == listPanel || focusParent == scrollPanel

		if ( rotationEnabled && isOverList )
		{
			rotationEnabled = false
			RunClientScript( "DisableModelTurn" )
		}
		else if ( !rotationEnabled && !isOverList )
		{
			rotationEnabled = true
			RunClientScript( "EnableModelTurn" )
		}

		WaitFrame()
	}
}




























void function ClientToUI_PROTO_UpdateClientWithLocalClientUID()
{
	RunClientScript( "UIToClient_PROTO_UpdateClientWithLocalClientUID", GetPlayerUID() )
}














































































































































































































































































































































































































void function OnMouseWheelDown( var unused )
{
	foreach ( void functionref() cb in file.mouseWheelDownCallbacks )
		cb()

	if ( CanRunClientScript() )
		RunClientScript( "ShMenuModels_ClientToUI_OnMouseWheel", true )
}


void function OnMouseWheelUp( var unused )
{
	foreach ( void functionref() cb in file.mouseWheelUpCallbacks )
		cb()

	if ( CanRunClientScript() )
		RunClientScript( "ShMenuModels_ClientToUI_OnMouseWheel", false )
}













void function AddCallback_OnMouseWheelDown( void functionref() cb )
{
	Assert( !file.mouseWheelDownCallbacks.contains( cb ) )
	file.mouseWheelDownCallbacks.append( cb )
}
void function RemoveCallback_OnMouseWheelDown( void functionref() cb )
{
	Assert( file.mouseWheelDownCallbacks.contains( cb ) )
	file.mouseWheelDownCallbacks.removebyvalue( cb )
}
void function AddCallback_OnMouseWheelUp( void functionref() cb )
{
	Assert( !file.mouseWheelUpCallbacks.contains( cb ) )
	file.mouseWheelUpCallbacks.append( cb )
}
void function RemoveCallback_OnMouseWheelUp( void functionref() cb )
{
	Assert( file.mouseWheelUpCallbacks.contains( cb ) )
	file.mouseWheelUpCallbacks.removebyvalue( cb )
}

bool function IsCallbackRegistered_OnMouseWheelUp( void functionref() cb )
{
	return file.mouseWheelUpCallbacks.contains( cb )
}

bool function IsCallbackRegistered_OnMouseWheelDown( void functionref() cb )
{
	return file.mouseWheelDownCallbacks.contains( cb )
}
















