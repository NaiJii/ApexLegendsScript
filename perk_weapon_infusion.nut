global function Perk_WeaponInfusion_Init

















const bool PERK_WEAPON_INFUSION_DEBUG 						= true
const bool DEBUG_PERK_WEAPON_INFUSION_AUTO_LOOP		 		= false
const float DEBUG_PERK_WEAPON_INFUSION_LOOP_TEST_TIME 		= 5.0

const string PERK_INFUSED_WEAPON_DURABILITY_NETVAR 			= "perkInfusedWeaponDurability"

const int PERK_INFUSED_WEAPON_MAX_DURABILITY 				= 100 
const float PERK_WEAPON_INFUSION_DURABILITY_DAMAGE_FRAC 	= 0.25 
const float UNSTABLE_HARVESTER_MAX_VISIBLE_WP_RANGE 		= 2500

const float UNSTALBLE_HARVESTER_CREATION_DELAY 				= 10.0	
const float UNSTABLE_HARVESTER_MIN_SEPARATION_RANGE 		= 6000
const float UNSTABLE_HARVESTER_DISTANCE_TO_INTERACT 		= 150

const asset PERK_WEAPON_INFUSION_DESTROY_WPN_FX				= $"P_exp_hold_exp_emp_med" 
const asset PERK_WEAPON_INFUSION_UNSTABLE_BEAM_FX			= $"P_wpn_orbital_laser"
const string PERK_WEAPON_INFUSION_DESTROY_WPN_SFX 			= "Newcastle_Ultimate_Wall_Destroy"

struct InfusedWeaponInfo
{
	entity weapon
	int durability
}

struct SavedWeaponInfo
{
	entity weapon
	string weaponRef
	array<string> lootTags
	array<string> attachments
}

struct
{
	table<entity, InfusedWeaponInfo > infusedWeaponData
	table<entity, SavedWeaponInfo > savedWeaponData
	table<entity, entity> infusedWeapon
	array<entity> craftingHarvesters
	array<entity> unstableHarvesters
	table<entity, array> playerUsedHarvesters



} file

void function Perk_WeaponInfusion_Init()
{
	if ( GetCurrentPlaylistVarBool( "disable_perk_weapon_infusion", true ) )
		return

	PerkInfo weaponInfusion
	weaponInfusion.perkId          = ePerkIndex.WEAPON_INFUSION




	Perks_RegisterClassPerk( weaponInfusion )

	RegisterSignal( "Deactivate_PerkWeaponInfusion" )
	RegisterSignal( "OnLeave_UnstableHarvesterRange" )


























}






























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































